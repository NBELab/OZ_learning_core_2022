Version 4
SHEET 1 11548 5620
WIRE 2320 -240 2320 -320
WIRE 2416 -240 2416 -288
WIRE 1552 -112 1088 -112
WIRE 2320 -112 2320 -160
WIRE 2416 -112 2416 -160
WIRE 3120 112 2816 112
WIRE 3200 112 3120 112
WIRE 3312 112 3312 96
WIRE 3312 112 3200 112
WIRE 3440 112 3312 112
WIRE 3648 112 3440 112
WIRE 2816 128 2816 112
WIRE 3120 128 3120 112
WIRE 2768 144 2720 144
WIRE 3072 144 3024 144
WIRE 3200 208 3200 112
WIRE 3344 224 3248 224
WIRE 3760 240 3504 240
WIRE 1824 256 1360 256
WIRE 2816 256 2816 224
WIRE 3120 256 3120 224
WIRE 3312 256 3312 112
WIRE 3440 256 3440 112
WIRE 2768 272 2720 272
WIRE 3072 272 3024 272
WIRE 3648 304 3648 112
WIRE 1088 320 1088 -112
WIRE 1120 320 1088 320
WIRE 3648 320 3648 304
WIRE 2816 384 2816 352
WIRE 3120 384 3120 352
WIRE 3120 384 2816 384
WIRE 3152 384 3120 384
WIRE 3200 384 3200 304
WIRE 3200 384 3152 384
WIRE 3264 384 3264 272
WIRE 3264 384 3200 384
WIRE 3312 384 3312 352
WIRE 3344 384 3344 224
WIRE 3344 384 3312 384
WIRE 3392 384 3392 272
WIRE 3392 384 3344 384
WIRE 3440 384 3440 352
WIRE 3472 384 3440 384
WIRE 3504 384 3504 240
WIRE 3504 384 3472 384
WIRE 3600 384 3504 384
WIRE 3312 400 3312 384
WIRE 3440 400 3440 384
WIRE 1088 416 1088 320
WIRE 3152 416 3152 384
WIRE 3504 416 3504 384
WIRE 3648 416 3648 400
WIRE 3696 416 3648 416
WIRE 3760 416 3696 416
WIRE 3648 432 3648 416
WIRE 3696 432 3696 416
WIRE 3120 448 3120 384
WIRE 3200 464 3200 384
WIRE 3200 480 3200 464
WIRE 3264 480 3264 384
WIRE 3392 480 3392 384
WIRE 3600 496 3584 496
WIRE 3472 512 3472 384
WIRE 3472 512 3248 512
WIRE 1088 528 1088 496
WIRE 3072 528 3024 528
WIRE 3440 528 3440 496
WIRE 3584 528 3584 496
WIRE 3248 544 3248 512
WIRE 3440 544 3440 528
WIRE -64 592 -64 544
WIRE 32 592 32 544
WIRE 128 592 128 544
WIRE 496 592 496 560
WIRE 624 592 624 560
WIRE 240 608 240 544
WIRE 368 608 368 544
WIRE 3392 608 3024 608
WIRE 3120 640 3120 544
WIRE 3152 640 3152 480
WIRE 3152 640 3120 640
WIRE 3200 640 3200 560
WIRE 3200 640 3152 640
WIRE 3312 640 3312 496
WIRE 3312 640 3200 640
WIRE 3440 640 3440 624
WIRE 3440 640 3312 640
WIRE 3504 640 3504 480
WIRE 3504 640 3440 640
WIRE 3648 640 3648 512
WIRE 3648 640 3504 640
WIRE 3696 640 3696 496
WIRE 3696 640 3648 640
WIRE 3312 672 3312 640
WIRE 1360 688 1360 256
WIRE 1392 688 1360 688
WIRE -64 720 -64 672
WIRE 32 720 32 672
WIRE 128 720 128 672
WIRE 240 720 240 688
WIRE 368 720 368 688
WIRE 496 720 496 672
WIRE 624 720 624 672
WIRE 1360 784 1360 688
WIRE 1360 896 1360 864
WIRE 512 1408 432 1408
WIRE 624 1408 512 1408
WIRE 512 1472 512 1408
WIRE 432 1488 432 1408
WIRE 512 1584 512 1552
WIRE 624 1584 512 1584
WIRE 432 1600 432 1568
WIRE 512 1616 512 1584
WIRE 512 1744 512 1696
WIRE 608 1744 512 1744
WIRE 512 1776 512 1744
WIRE 512 1888 512 1856
WIRE 608 1888 512 1888
WIRE 512 1952 512 1888
WIRE 512 2080 512 2032
WIRE 608 2080 512 2080
WIRE 512 2160 512 2080
WIRE 512 2288 512 2240
FLAG 128 720 0
FLAG 128 544 VTEMP
FLAG 496 560 VDD
FLAG 496 720 0
FLAG 368 720 0
FLAG 368 544 VSS-
FLAG 240 720 0
FLAG 240 544 VSS+
FLAG 32 720 0
FLAG 32 544 VOFF
FLAG -64 720 0
FLAG -64 544 VREF
FLAG 2416 -112 0
FLAG 624 560 VGND
FLAG 624 720 0
FLAG 2320 -112 0
FLAG 1120 320 vin1
FLAG 1088 528 0
FLAG 1552 -144 VGND
FLAG 1552 -80 voff
FLAG 1760 -160 vss+
FLAG 1760 -128 vss-
FLAG 1760 -96 VINNEG_X
FLAG 1760 -64 VINPOS_X
FLAG 432 1600 0
FLAG 624 1584 v1
FLAG 608 1744 v2
FLAG 608 1888 v3
FLAG 608 2080 v4
FLAG 512 2288 0
FLAG 624 1408 v0
FLAG 3312 96 VDD
IOPIN 3312 96 In
FLAG 3024 144 VINPOS_Y
IOPIN 3024 144 In
FLAG 3024 272 VW2
IOPIN 3024 272 In
FLAG 3024 528 v0
IOPIN 3024 528 In
FLAG 3024 608 VREF
IOPIN 3024 608 In
FLAG 3312 672 VGND
IOPIN 3312 672 In
FLAG 3584 528 VTEMP
IOPIN 3584 528 In
FLAG 3760 416 VOUT
IOPIN 3760 416 Out
FLAG 3760 240 SPIKES
IOPIN 3760 240 Out
FLAG 2720 144 VINPOS_X
IOPIN 2720 144 In
FLAG 2720 272 VW1
IOPIN 2720 272 In
FLAG 2320 -320 VW1
IOPIN 2320 -320 Out
FLAG 2416 -288 VW2
IOPIN 2416 -288 Out
FLAG 1392 688 vin2
FLAG 1360 896 0
FLAG 1824 224 VGND
FLAG 1824 288 voff
FLAG 2032 208 vss+
FLAG 2032 240 vss-
FLAG 2032 272 VINNEG_Y
FLAG 2032 304 VINPOS_Y
SYMBOL voltage 128 576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 24 16 Left 1
WINDOW 3 24 96 Left 1
SYMATTR InstName vtemp1
SYMATTR Value 0.35
SYMBOL voltage 496 576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vdd1
SYMATTR Value 3.3
SYMBOL voltage 368 592 R0
WINDOW 3 47 82 Top 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value -10
SYMATTR InstName V1
SYMBOL voltage 240 592 R0
WINDOW 3 47 82 Top 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value 10
SYMATTR InstName V2
SYMBOL voltage 32 576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 24 16 Left 1
WINDOW 3 24 96 Left 1
SYMATTR InstName voff1
SYMATTR Value 1
SYMBOL voltage -64 576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 24 16 Left 1
WINDOW 3 24 96 Left 1
SYMATTR InstName voff2
SYMATTR Value 1
SYMBOL voltage 2416 -256 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 24 16 Left 1
WINDOW 3 24 96 Left 1
SYMATTR InstName voff3
SYMATTR Value 2.4
SYMBOL voltage 624 576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vdd2
SYMATTR Value 0
SYMBOL sigmod 1648 -112 R0
SYMATTR InstName U7
SYMBOL voltage 2320 -256 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 24 16 Left 1
WINDOW 3 24 96 Left 1
SYMATTR InstName voff4
SYMATTR Value 2.4
SYMBOL voltage 1088 400 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value {vin1}
SYMBOL voltage 432 1472 R0
SYMATTR InstName V4
SYMATTR Value 757m
SYMBOL res 496 1456 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 496 1600 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 496 1760 R0
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res 496 2144 R0
SYMATTR InstName R4
SYMATTR Value 595k
SYMBOL res 496 1936 R0
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL pmos 3072 352 M180
WINDOW 0 56 32 Left 0
WINDOW 3 56 72 Left 0
SYMATTR InstName MW1
SYMBOL cap 3136 416 R0
WINDOW 0 24 8 Left 0
WINDOW 3 24 56 Left 1
SYMATTR InstName Cmem1
SYMATTR Value 10n
SYMATTR SpiceLine V=4 Irms=162m Rser=0.395426 Lser=0 mfg="KEMET" pn="C0402C103K7PAC" type="X5R" IC=0
SYMBOL cap 3488 416 R0
WINDOW 0 24 8 Left 0
WINDOW 3 24 56 Left 0
SYMATTR InstName Ck1
SYMATTR Value 10n
SYMBOL pmos 3264 352 M180
WINDOW 0 56 32 Left 0
WINDOW 3 56 72 Left 0
SYMATTR InstName MPNOT1
SYMBOL nmos 3264 400 R0
WINDOW 0 56 32 Left 0
WINDOW 3 56 72 Left 0
SYMATTR InstName MNNOT1
SYMBOL nmos 3392 528 R0
WINDOW 0 56 32 Left 0
WINDOW 3 56 72 Left 0
SYMATTR InstName MVREF1
SYMBOL nmos 3248 464 M0
WINDOW 0 56 32 Left 0
WINDOW 3 56 72 Left 0
SYMATTR InstName MREF1
SYMBOL nmos 3072 448 R0
WINDOW 0 56 32 Left 0
WINDOW 3 56 72 Left 0
SYMATTR InstName MVLK1
SYMBOL pmos 3248 304 R180
WINDOW 0 56 32 Left 0
WINDOW 3 56 72 Left 0
SYMATTR InstName MINA1
SYMBOL pmos 3072 224 M180
WINDOW 0 56 32 Left 0
WINDOW 3 56 72 Left 0
SYMATTR InstName MIN1
SYMBOL pmos 3392 352 M180
WINDOW 0 56 32 Left 0
WINDOW 3 56 72 Left 0
SYMATTR InstName MPNOT2
SYMBOL nmos 3392 400 R0
WINDOW 0 56 32 Left 0
WINDOW 3 56 72 Left 0
SYMATTR InstName MNNOT2
SYMBOL nmos 3600 304 R0
WINDOW 0 56 32 Left 0
WINDOW 3 56 72 Left 0
SYMATTR InstName M1
SYMBOL nmos 3600 416 R0
WINDOW 0 56 32 Left 0
WINDOW 3 56 72 Left 0
SYMATTR InstName M2
SYMBOL cap 3680 432 R0
WINDOW 0 24 8 Left 0
WINDOW 3 24 56 Left 0
SYMATTR InstName Ck2
SYMATTR Value 0.1µ
SYMBOL pmos 2768 352 M180
WINDOW 0 56 32 Left 0
WINDOW 3 56 72 Left 0
SYMATTR InstName MW2
SYMBOL pmos 2768 224 M180
WINDOW 0 56 32 Left 0
WINDOW 3 56 72 Left 0
SYMATTR InstName MIN2
SYMBOL sigmod 1920 256 R0
SYMATTR InstName U1
SYMBOL voltage 1360 768 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value {vin2}
TEXT -96 -40 Left 2 !.tran 1
TEXT -96 -256 Left 2 !.option noopiter
TEXT -64 1128 Left 2 !.step param vin1 -1 1 200m
TEXT -56 1168 Left 2 !.step param vin2 -1 1 200m
